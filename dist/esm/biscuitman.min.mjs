/*! biscuitman.js 0.3.19 */let e,t,o;let{document:a,window:n,Object:l}=globalThis,i=a.documentElement,s="biscuitman",c={},r={key:"myconsent",global:"Consent",force:!1,enableMore:!0,sections:["essential"],title:"Your privacy matters",message:"We use cookies",settings:"Settings",reject:"Reject All",accept:"Accept All",save:"Save My Settings",settingsTitle:"My Consent Settings",info:"",more:"Show more",noCookies:"No cookies to display",acceptNonEU:!1,dialogPolyfillUrl:"//cdnjs.cloudflare.com/ajax/libs/dialog-polyfill/0.5.6/dialog-polyfill.min.js"},d=document.createElement("div"),p=()=>{i.style.setProperty("--bm-height",`${d.offsetHeight}px`)},u=e=>{i.classList.toggle("bm-show",e),p()},m=()=>{let{consentTime:e,...o}=v();for(let[a,n]of(e||(o=l.fromEntries(t.sections.slice(1).map(e=>[e,!1]))),l.entries(o)))i.classList.toggle(`bm-${a}`,n),i.classList.toggle(`bm-no-${a}`,!n)};function f(e){let t=e.target.dataset.id;switch(h("button",{id:t}),t){case"accept":C(!0);break;case"close":o.close();break;case"settings":$();break;case"save":C();break;case"reject":C(!1)}}function b(){h("close")}function g(e){t.force&&e.preventDefault()}function $(){h("open"),o.showModal()}function h(e,t){let o=`${s}:${e}`,n={...void 0!==t&&t,time:+new Date};a.dispatchEvent(new CustomEvent(o,n)),console.debug(o,n),c[o]&&c[o].forEach(e=>e(n))}let v=()=>n[t.global]||{};function y(e){n[t.global]=e,m()}let k=e=>!!v()[e];function E(e,t){for(let o in e)e[o]&&!1===t[o]&&h("revoke",{section:o})}function T(){try{return JSON.parse(localStorage.getItem(t.key))}catch(e){return console.error(e),localStorage.removeItem(t.key),{}}}function S(){let e=l.fromEntries(l.entries(localStorage)),o=l.fromEntries(a.cookie.split("; ").map(e=>e.split("="))),{consentTime:n,...i}=T()||t.sections.slice(1).reduce((e,t)=>(e[t]=!1,{consentTime:void 0,...e}),{});for(let[n,s]of l.entries(i)){if(s)continue;let i=l.keys(t[`${n}Cookies`]||{});for(let t of(i.filter(e=>e.endsWith("*")).map(t=>{l.keys({...o,...e}).map(e=>{e.startsWith(t.slice(0,-1))&&i.push(e)})}),i)){if(o[t]){let e=`${t}=;expires=Thu, 01 Jan 1970 00:00:01 UTC;path=/;`;a.cookie=e,a.cookie=`${e}domain=${location.hostname};`,a.cookie=`${e}domain=.${location.hostname};`,h("delete",{cookie:t})}e[t]&&(localStorage.removeItem(t),h("delete",{localStorage:t}))}}}function C(e){let a=void 0===e,n={consentTime:+new Date};t.sections.forEach(t=>{if("essential"===t)return!1;let o=d.querySelector(`[data-s=${t}]`),l=a?o.checked:e;n[t]=l,a||(o.checked=e)}),E(v(),n),y(n),localStorage.setItem(t.key,JSON.stringify(n)),h("save",{data:n}),S(),j(),o.open&&o.close(),u(!1)}function j(){a.querySelectorAll("script[data-consent]").forEach(e=>{if(!v()[e.dataset.consent])return!1;let t=a.createElement("script");for(let{name:o,value:a}of e.attributes)o.startsWith("data-")||"type"===o||t.setAttribute(o,a);t.setAttribute("type",e.dataset.type||"text/javascript"),e.src||(t.textContent=e.textContent),e.parentNode.replaceChild(t,e),h("inject",{el:e,...e.id&&{id:e.id}}),e.src&&""!==e.textContent.trim()&&t.addEventListener("load",()=>{let o=a.createElement("script");o.textContent=e.textContent,e.id&&(o.id=e.id+"-after"),t.insertAdjacentElement("afterend",o),h("inject",{el:o,parent:e,...o.id&&{id:o.id}})})})}export default{create:function(){let m=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(e)return e;t={...r,...m};let L=n.bmInvalidate=()=>{h("invalidate",{data:v()}),E({}),C(!1),y({}),localStorage.removeItem(t.key),u(!0)},x=n.bmUpdate=()=>{h("update",{data:v()}),$()};return y(T()||{}),function(){let e=Intl.DateTimeFormat().resolvedOptions().timeZone,o=/^(GMT|UTC)$/.test(e)||/(Europe|BST|CEST|CET|EET|IST|WEST|WET|GMT-1|GMT-2|UTC+1|UTC+2|UTC+3)/.test(e);t.acceptNonEU&&!o&&(C(!0),u(!1))}(),function(){d.classList.add("biscuitman"),d.innerHTML=`<article>    <b>${t.title}</b><p>${t.message}</p><nav><button data-id="accept">${t.accept}</button><button data-id="settings">${t.settings}</button><button data-id="reject">${t.reject}</button></nav></article><dialog><div class="bm-dialog"><b>${t.settingsTitle}</b><button data-id="close"${t.force?" disabled":""}>\xd7</button><div class="bm-sections"><p><span>${t.message}</span></p><p>${t.info.split("\n").map((e,o,a)=>`<span>${e}</span>${a.length>1&&t.enableMore&&0==o?`<a class="more" href="javascript:void(0)">${t.more}</a>`:""}`).join("")}</p>${t.sections.map(e=>{let o=v()[e],a="essential"===e,n=a?"disabled":"",i=a?"checked":"";void 0!==o&&(i=o?"checked":"");let c=t[`${e}Cookies`];return`<section><details><summary><b>${t[`${e}Title`]}</b><label for="${s}_${e}" class="${n} ${i}"><input type="checkbox" id="${s}_${e}" ${n} ${i} data-s="${e}"/></label><p>${t[`${e}Message`]}</p></summary>${c?l.entries(c).map(e=>{let[t,o]=e;return`<dl><dt>${t}</dt><dd>${o}</dd></dl>`}).join(""):`<dl><dd>${t.noCookies}</dd></dl>`}</details></section>`}).join("")}</div><nav><button data-id="accept">${t.accept}</button><button data-id="save">${t.save}</button><button data-id="reject">${t.reject}</button></nav></div></dialog>`.replaceAll("{link}",`<a href="${t.linkURL}">${t.linkText}</a>`),d.querySelectorAll("button").forEach(e=>e.addEventListener("click",f)),(o=d.querySelector("dialog")).showModal&&o.close||function(){i.classList.add("bm-dialog-polyfill");let e=a.createElement("script");e.src=t.dialogPolyfillUrl,e.onload=()=>{n.dialogPolyfill.registerDialog(o)},a.head.appendChild(e);let l=a.createElement("link");l.rel="stylesheet",l.href=t.dialogPolyfillUrl.slice(0,-2)+"css",a.head.appendChild(l)}(),o.addEventListener("close",b),o.addEventListener("cancel",g);let e=d.querySelector(".more");e&&e.addEventListener("click",e.remove),d.querySelectorAll("[data-s]").forEach(e=>e.addEventListener("change",t=>{e.parentElement.classList.toggle("checked",t.target.checked)})),a.body.appendChild(d),n.addEventListener("resize",p)}(),S(),n[t.global].consentTime?(u(!1),j()):(u(!0),t.force&&$()),e={consent:k,invalidate:L,update:x,on:(t,o)=>{let a=`${s}:${t}`;return c[a]||(c[a]=[]),c[a].push(o),e},off:(e,t)=>{let o=`${s}:${e}`;c[o]&&(c[o]=c[o].filter(e=>e!==t))}}}};