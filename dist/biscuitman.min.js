/*! biscuitman.js 0.3.5 */((e,t,a)=>{let n;let o={storageKey:"myconsent",global:"Consent",force:!1,enableMore:!0,sections:["essential"],title:"Your privacy matters",message:"We use cookies",settings:"Settings",reject:"Reject All",accept:"Accept All",save:"Save My Settings",settingsTitle:"My Consent Settings",info:"",more:"(Show more)",noCookies:"No cookies to display",acceptNonEU:!1,...t.biscuitman},s=e.createElement("div"),i=e=>s.classList[e?"remove":"add"]("bm-hide");function c(e){let t=e.target.dataset.id;switch(b("button",{id:t}),t){case"accept":p(!0);break;case"close":n.close();break;case"settings":d();break;case"save":p();break;case"reject":p(!1)}}function l(){b("close")}function r(e){o.force&&e.preventDefault()}function d(){b("open"),n.showModal()}function b(t,n){let o=`${a}:${t}`,s={...void 0!==n&&n,time:+new Date};e.dispatchEvent(new CustomEvent(o,s)),console.debug(o,s)}function u(){try{return JSON.parse(localStorage.getItem(o.storageKey))}catch(e){return console.error(e),localStorage.removeItem(o.storageKey),{}}}function p(e){let a=void 0===e;t[o.global].consentTime=+new Date,o.sections.forEach(n=>{if("essential"===n)return!1;let i=s.querySelector(`[data-s=${n}]`);t[o.global][n]=a?i.checked:e,a||(i.checked=e)}),localStorage.setItem(o.storageKey,JSON.stringify(t[o.global])),b("save",{data:t[o.global]}),m(),n.close(),i(!1)}function m(){e.querySelectorAll("script[data-consent]").forEach(a=>{if(!t[o.global][a.dataset.consent])return!1;let n=e.createElement("script");for(let{name:e,value:t}of a.attributes)e.startsWith("data-")||"type"===e||n.setAttribute(e,t);n.setAttribute("type",a.dataset.type||"text/javascript"),a.src||(n.textContent=a.textContent),a.parentNode.replaceChild(n,a),b("inject",{el:a}),a.src&&""!==a.textContent.trim()&&n.addEventListener("load",()=>{let t=e.createElement("script");t.textContent=a.textContent,n.insertAdjacentElement("afterend",t),b("inject",{el:t,parent:a})})})}t[o.global]=u()||{};let g=Intl.DateTimeFormat().resolvedOptions().timeZone,$=/^(GMT|UTC)$/.test(g)||/(Europe|BST|CEST|CET|EET|IST|WEST|WET|GMT-1|GMT-2|UTC+1|UTC+2|UTC+3)/.test(g);o.acceptNonEU&&!$&&(p(!0),i(!1)),function(){s.classList.add(a),s.style="position:fixed;background:#fff;bottom:0",s.innerHTML=`<article><b>${o.title}</b><p>${o.message}</p><nav><button data-id="accept">${o.accept}</button><button data-id="settings">${o.settings}</button><button data-id="reject">${o.reject}</button></nav></article><dialog><div class="bm-dialog"><b>${o.settingsTitle}</b><button data-id="close"${o.force?" disabled":""}>\xd7</button><div class="bm-sections"><p><span>${o.message}</span></p><p>${o.info.split("\n").map((e,t,a)=>{let n=a.length>1&&o.enableMore&&0==t?`<a class="more" href="javascript:void(0)">${o.more}</a>`:"";return`<span>${e}${n}</span>`}).join("")}</p>${o.sections.map(e=>{let n=t[o.global][e],s="essential"===e,i=s?"checked":"";void 0!==n&&(i=n?"checked":"");let c=o[`${e}Cookies`];return`<section><details><summary><b>${o[`${e}Title`]}</b><label for="${a}_${e}"><input type="checkbox" id="${a}_${e}" ${s?"disabled":""} ${i} data-s="${e}"/></label><p>${o[`${e}Message`]}</p></summary>${c?Object.entries(c).map(([e,t])=>`<dl><dt>${e}</dt><dd>${t}</dd></dl>`).join(""):`<dl><dd>${o.noCookies}</dd></dl>`}</details></section>`}).join("")}</div><nav><button data-id="accept">${o.accept}</button><button data-id="save">${o.save}</button><button data-id="reject">${o.reject}</button></nav></div></dialog>`.replaceAll("{link}",`<a href="${o.linkURL}">${o.linkText}</a>`),s.querySelectorAll("button").forEach(e=>e.addEventListener("click",c)),(n=s.querySelector("dialog")).addEventListener("close",l),n.addEventListener("cancel",r);let i=s.querySelector(".more");i&&i.addEventListener("click",i.remove),e.body.appendChild(s)}(),t[o.global].consentTime?(i(!1),m()):o.force&&d(),t.bmInvalidate=()=>{b("invalidate",{data:u()}),p(!1),localStorage.removeItem(o.storageKey),i(!0)},t.bmUpdate=()=>{b("update",{data:u()}),d()}})(document,window,"biscuitman");