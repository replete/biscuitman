/*! biscuitman.js 0.5.5 */((e,t,o,a)=>{let i;let n={key:"myconsent",global:"Consent",force:!1,enableMore:!0,sections:["essential"],title:"Your privacy matters",message:"We use cookies",settings:"Settings",reject:"Reject All",accept:"Accept All",save:"Save My Settings",settingsTitle:"My Consent Settings",info:"",more:"Show more",noCookies:"No cookies to display",acceptNonEU:!1,dialogPolyfill:"/dist/dialog-polyfill.withcss.min.js",...t.biscuitman},l=e.createElement("div"),s=()=>{a.style.setProperty("--bm-height",`${l.offsetHeight}px`)},c=e=>{a.classList.toggle("bm-show",e),s()},r=()=>{let{consentTime:e,...t}=p();for(let[i,l]of(e||(t=o.fromEntries(n.sections.slice(1).map(e=>[e,!1]))),o.entries(t)))a.classList.toggle(`bm-${i}`,l),a.classList.toggle(`bm-no-${i}`,!l)};function d(){m("open"),i.showModal()}function m(t,o){let a=`bm:${t}`,i={...void 0!==o&&o,time:+new Date};e.dispatchEvent(new CustomEvent(a,{detail:i})),console.debug(a,i)}let p=()=>t[n.global]||{};function u(e){t[n.global]=e,r()}function b(e,t){for(let o in e)e[o]&&!1===t[o]&&m("revoke",{section:o})}function g(){try{return JSON.parse(localStorage.getItem(n.key))}catch(e){return console.error(e),localStorage.removeItem(n.key),{}}}function f(){let t=o.fromEntries(o.entries(localStorage)),a=o.fromEntries(e.cookie.split("; ").map(e=>e.split("="))),{consentTime:i,...l}=g()||n.sections.slice(1).reduce((e,t)=>(e[t]=!1,{consentTime:void 0,...e}),{});for(let[i,s]of o.entries(l)){if(s)continue;let l=o.keys(n[`${i}Cookies`]||{});for(let i of(l.filter(e=>e.endsWith("*")).map(e=>{o.keys({...a,...t}).map(t=>{t.startsWith(e.slice(0,-1))&&l.push(t)})}),l)){if(a[i]){let t=`${i}=;expires=Thu, 01 Jan 1970 00:00:01 UTC;path=/;`;e.cookie=t,e.cookie=`${t}domain=${location.hostname};`,e.cookie=`${t}domain=.${location.hostname};`,m("delete",{cookie:i})}t[i]&&(localStorage.removeItem(i),m("delete",{localStorage:i}))}}}function $(e){let t=void 0===e,o={consentTime:+new Date};n.sections.forEach(a=>{if("essential"===a)return;let i=l.querySelector(`[data-s=${a}]`),n=t?i.checked:e;o[a]=n,t||(i.checked=e)}),b(p(),o),u(o),localStorage.setItem(n.key,JSON.stringify(o)),m("save",{data:o}),f(),k(),i.open&&i.close(),c(!1)}function k(){e.querySelectorAll("script[data-consent]").forEach(t=>{if(!p()[t.dataset.consent])return;let o=e.createElement("script");for(let{name:e,value:a}of t.attributes)e.startsWith("data-")||"type"===e||o.setAttribute(e,a);o.setAttribute("type",t.dataset.type||"text/javascript"),t.src||(o.textContent=t.textContent),t.parentNode.replaceChild(o,t),m("inject",{el:t,...t.id&&{id:t.id}}),t.src&&""!==t.textContent.trim()&&o.addEventListener("load",()=>{let a=e.createElement("script");a.textContent=t.textContent,t.id&&(a.id=t.id+"-after"),o.insertAdjacentElement("afterend",a),m("inject",{el:a,parent:t,...a.id&&{id:a.id}})})})}u(g()||{}),l.className="biscuitman",l.innerHTML=`<article><b>${n.title}</b><p>${n.message}</p><nav><button data-id=accept>${n.accept}</button><button data-id=settings>${n.settings}</button><button data-id=reject>${n.reject}</button></nav></article><dialog><div class=bm-dialog><b>${n.settingsTitle}</b><button data-id=close${n.force?" disabled":""}>\xd7</button><div class=bm-sections><p><span>${n.message}</span></p><p>${n.info.split("\n").map((e,t,o)=>`<span>${e}</span>${o.length>1&&n.enableMore&&0==t?`<a data-id=more href=# rel=nofollow>${n.more}</a>`:""}`).join("")}</p>${n.sections.map(e=>{let t=p()[e],a="essential"===e,i=a?"disabled":"",l=a?"checked":"";void 0!==t&&(l=t?"checked":"");let s=n[`${e}Cookies`];return`<section><details><summary><b>${n[`${e}Title`]}</b><label for=bm_${e} class="${i} ${l}"><input type=checkbox id=bm_${e} ${i} ${l} data-s="${e}"/></label><p>${n[`${e}Message`]}</p></summary>${s?o.entries(s).map(([e,t])=>`<dl><dt>${e}</dt><dd>${t}</dd></dl>`).join(""):`<dl><dd>${n.noCookies}</dd></dl>`}</details></section>`}).join("")}</div><nav><button data-id=accept>${n.accept}</button><button data-id=save>${n.save}</button><button data-id=reject>${n.reject}</button></nav></div></dialog>`.replaceAll("{link}",`<a href="${n.linkURL}">${n.linkText}</a>`),l.onclick=e=>{let t=e.target.dataset.id;if(t)switch(m("button",{id:t}),t){case"more":e.target.remove();break;case"accept":$(!0);break;case"close":i.close();break;case"settings":d();break;case"save":$();break;case"reject":$(!1)}},l.onchange=e=>{e.target.dataset.s&&e.target.parentElement.classList.toggle("checked",e.target.checked)},i=l.querySelector("dialog"),n.dialogPolyfill&&!i.close&&function(o){function a(){e.documentElement.classList.add("bm-dialog-polyfill"),t.dialogPolyfill.registerDialog(o)}if(t.dialogPolyfill)a();else{let t=e.createElement("script");t.onload=a,t.src=n.dialogPolyfill,e.head.appendChild(t)}}(i),i.onclose=()=>m("close"),n.force&&(i.oncancel=e=>e.preventDefault(),i.onkeydown=e=>"Escape"===e.key?e.preventDefault():null),e.body.appendChild(l),t.addEventListener("resize",s);let h=Intl.DateTimeFormat().resolvedOptions().timeZone,v=/^(GMT|UTC)$/.test(h)||/(Europe|BST|CEST|CET|EET|IST|WEST|WET|GMT-1|GMT-2|UTC+1|UTC+2|UTC+3)/.test(h);n.acceptNonEU&&!v&&($(!0),c(!1)),f(),t[n.global].consentTime?(c(!1),k()):(c(!0),n.force&&d()),t.bmInvalidate=()=>{m("invalidate",{data:p()}),b({}),$(!1),u({}),localStorage.removeItem(n.key),c(!0),n.force&&i.showModal()},t.bmUpdate=()=>{m("update",{data:p()}),c(!0),d()}})(document,window,Object,document.documentElement);