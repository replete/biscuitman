/*! biscuitman.js 0.3.7 */((e,t,a,o)=>{let n;let s={key:"myconsent",global:"Consent",force:!1,enableMore:!0,sections:["essential"],title:"Your privacy matters",message:"We use cookies",settings:"Settings",reject:"Reject All",accept:"Accept All",save:"Save My Settings",settingsTitle:"My Consent Settings",info:"",more:"(Show more)",noCookies:"No cookies to display",acceptNonEU:!1,...t.biscuitman},i=e.createElement("div"),l=e=>i.classList[e?"remove":"add"]("bm-hide");function c(e){let t=e.target.dataset.id;switch(u("button",{id:t}),t){case"accept":f(!0);break;case"close":n.close();break;case"settings":p();break;case"save":f();break;case"reject":f(!1)}}function r(){u("close")}function d(e){s.force&&e.preventDefault()}function p(){u("open"),n.showModal()}function u(t,a){let n=`${o}:${t}`,s={...void 0!==a&&a,time:+new Date};e.dispatchEvent(new CustomEvent(n,s)),console.debug(n,s)}function b(){try{return JSON.parse(localStorage.getItem(s.key))}catch(e){return console.error(e),localStorage.removeItem(s.key),{}}}function m(){let t=a.fromEntries(a.entries(localStorage)),o=a.fromEntries(e.cookie.split("; ").map(e=>e.split("="))),{consentTime:n,...i}=b()||s.sections.slice(1).reduce((e,t)=>(e[t]=!1,{consentTime:void 0,...e}),{});for(let[n,l]of a.entries(i)){if(l)continue;let i=a.keys(s[`${n}Cookies`]||{});for(let n of(i.filter(e=>e.endsWith("*")).map(e=>{a.keys({...o,...t}).map(t=>{t.startsWith(e.slice(0,-1))&&i.push(t)})}),i))o[n]&&(e.cookie=`${n}=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;`,u("delete",{cookie:n})),t[n]&&(localStorage.removeItem(n),u("delete",{localStorage:n}))}}function f(e){let a=void 0===e;t[s.global].consentTime=+new Date,s.sections.forEach(o=>{if("essential"===o)return!1;let n=i.querySelector(`[data-s=${o}]`),l=a?n.checked:e;t[s.global][o]=l,a||(n.checked=e)}),localStorage.setItem(s.key,JSON.stringify(t[s.global])),u("save",{data:t[s.global]}),m(),$(),n.close(),l(!1)}function $(){e.querySelectorAll("script[data-consent]").forEach(a=>{if(!t[s.global][a.dataset.consent])return!1;let o=e.createElement("script");for(let{name:e,value:t}of a.attributes)e.startsWith("data-")||"type"===e||o.setAttribute(e,t);o.setAttribute("type",a.dataset.type||"text/javascript"),a.src||(o.textContent=a.textContent),a.parentNode.replaceChild(o,a),u("inject",{el:a}),a.src&&""!==a.textContent.trim()&&o.addEventListener("load",()=>{let t=e.createElement("script");t.textContent=a.textContent,a.id&&(t.id=a.id+"-after"),o.insertAdjacentElement("afterend",t),u("inject",{el:t,parent:a})})})}t[s.global]=b()||{};let g=Intl.DateTimeFormat().resolvedOptions().timeZone,v=/^(GMT|UTC)$/.test(g)||/(Europe|BST|CEST|CET|EET|IST|WEST|WET|GMT-1|GMT-2|UTC+1|UTC+2|UTC+3)/.test(g);s.acceptNonEU&&!v&&(f(!0),l(!1)),function(){i.classList.add(o),i.style="position:fixed;background:#fff;bottom:0",i.innerHTML=`<article><b>${s.title}</b><p>${s.message}</p><nav><button data-id="accept">${s.accept}</button><button data-id="settings">${s.settings}</button><button data-id="reject">${s.reject}</button></nav></article><dialog><div class="bm-dialog"><b>${s.settingsTitle}</b><button data-id="close"${s.force?" disabled":""}>\xd7</button><div class="bm-sections"><p><span>${s.message}</span></p><p>${s.info.split("\n").map((e,t,a)=>{let o=a.length>1&&s.enableMore&&0==t?`<a class="more" href="javascript:void(0)">${s.more}</a>`:"";return`<span>${e}${o}</span>`}).join("")}</p>${s.sections.map(e=>{let n=t[s.global][e],i="essential"===e,l=i?"checked":"";void 0!==n&&(l=n?"checked":"");let c=s[`${e}Cookies`];return`<section><details><summary><b>${s[`${e}Title`]}</b><label for="${o}_${e}"><input type="checkbox" id="${o}_${e}" ${i?"disabled":""} ${l} data-s="${e}"/></label><p>${s[`${e}Message`]}</p></summary>${c?a.entries(c).map(([e,t])=>`<dl><dt>${e}</dt><dd>${t}</dd></dl>`).join(""):`<dl><dd>${s.noCookies}</dd></dl>`}</details></section>`}).join("")}</div><nav><button data-id="accept">${s.accept}</button><button data-id="save">${s.save}</button><button data-id="reject">${s.reject}</button></nav></div></dialog>`.replaceAll("{link}",`<a href="${s.linkURL}">${s.linkText}</a>`),i.querySelectorAll("button").forEach(e=>e.addEventListener("click",c)),(n=i.querySelector("dialog")).addEventListener("close",r),n.addEventListener("cancel",d);let l=i.querySelector(".more");l&&l.addEventListener("click",l.remove),e.body.appendChild(i)}(),m(),t[s.global].consentTime?(l(!1),$()):s.force&&p(),t.bmInvalidate=()=>{u("invalidate",{data:b()}),f(!1),localStorage.removeItem(s.key),l(!0)},t.bmUpdate=()=>{u("update",{data:b()}),p()}})(document,window,Object,"biscuitman");