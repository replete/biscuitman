/*! biscuitman 0.2.1 https://github.com/replete/biscuitman */((e,t)=>{let a;let s="biscuitman",n=e.createElement("aside"),o={storageKey:"myconsent",global:"Consent",enableMore:!0,sections:["essential"],title:"Your privacy matters",msg:"We use cookies",settingsLabel:"Settings",rejectLabel:"Reject All",acceptLabel:"Accept All",saveLabel:"Save My Settings",settingsTitle:"My Consent Settings",info:"",moreLabel:"Show more",noCookiesLabel:"No cookies to display",acceptNonEU:!1},l=t.biscuitman?{...o,...t.biscuitman}:o;function c(e){switch(e.target.dataset.id){case"accept":m(!0);break;case"close":a.close();break;case"settings":r();break;case"save":m();break;case"reject":m(!1)}p("buttonPress",{id})}function i(){p("closeModal")}function r(){a.showModal(),p("openModal")}let d=t=>e.documentElement.classList[t?"remove":"add"]("js-bm-hidden");function b(){try{return JSON.parse(localStorage.getItem(l.storageKey))}catch(e){return console.error(`${s} readConsent error:`,e.message),localStorage.removeItem(l.storageKey),{}}}function m(e){let s=void 0===e;t[l.global].consentTime=+new Date,l.sections.forEach(a=>{if("essential"===a)return!1;t[l.global][a]=s?n.querySelector(`[data-s=${a}]`).checked:e,s||(n.querySelector(`[data-s=${a}]`).checked=e)}),localStorage.setItem(l.storageKey,JSON.stringify(t[l.global])),u(),p("saveConsent",{data:t[l.global]}),a.close(),d(!1)}function p(t,a){let n=`${s}:${t}`,o={...void 0!==a&&a,time:+new Date};e.dispatchEvent(new CustomEvent(n,o)),console.debug(n,o)}function u(){e.querySelectorAll("script[data-consent]").forEach(a=>{if(!t[l.global][a.dataset.consent])return!1;let s=e.createElement("script");for(let{name:e,value:t}of a.attributes)e.startsWith("data-")||"type"===e||s.setAttribute(e,t);s.setAttribute("type",a.dataset.type||"text/javascript"),a.src||(s.textContent=a.textContent),a.parentNode.replaceChild(s,a),p("scriptInjected",{data:a.outerHTML}),a.src&&""!==a.textContent.trim()&&s.addEventListener("load",()=>{let t=e.createElement("script");t.textContent=a.textContent,s.insertAdjacentElement("afterend",t),p("scriptLoaded",{data:t.outerHTML})})})}t[l.global]=b()||{},t[l.global].consentTime&&(d(!1),u());let g=Intl.DateTimeFormat().resolvedOptions().timeZone,$=/^(GMT|UTC)$/.test(g)||/(Europe|BST|CEST|CET|EET|IST|WEST|WET|GMT-1|GMT-2|UTC+1|UTC+2|UTC+3)/.test(g);l.acceptNonEU&&!$&&(m(!0),d(!1)),function(){let o;n.id=s,n.classList.add(s),n.innerHTML=`<article><div class="bm-front"><b class="bm-title">${l.title}</b><p class="bm-msg">${l.msg}</p></div><nav><button data-id="accept">${l.acceptLabel}</button><button data-id="settings">${l.settingsLabel}</button><button data-id="reject">${l.rejectLabel}</button></nav></article><dialog><div class="bm-wrap"><b class="bm-title">${l.settingsTitle}</b><button data-id="close">\xd7</button><div class="bm-main"><p class="bm-msg">${l.msg}</p><p class="bm-info">${l.info.split("\n").map((e,t,a)=>{let s=a.length>1&&l.enableMore&&0==t?`<a class="more" href="javascript:void(0)">${l.moreLabel}</a>`:"";return`<span>${e}${s}</span>`}).join("")}</p>${o="",l.sections.forEach(e=>{let a=t[l.global][e],n="essential"===e,c=n?"checked":"";void 0!==a&&(c=a?"checked":"");let i=l[`${e}Title`],r=l[`${e}Message`],d=l[`${e}Cookies`],b=d?Object.entries(d).map(([e,t])=>`<p class="bm-s-item"><b>${e}</b><span>${t}</span></p>`).join(""):`<p class="bm-s-item">${l.noCookiesLabel}</p>`;o+=`<section><details><summary><b class="bm-s-title">${i}</b><label for="${s}_${e}"><input type="checkbox" id="${s}_${e}" ${n?"disabled":""} ${c} data-s="${e}"/></label><p class="bm-s-msg">${r}</p></summary>${b}</details></section>`}),o}</div><nav><button data-id="accept">${l.acceptLabel}</button><button data-id="save">${l.saveLabel}</button><button data-id="reject">${l.rejectLabel}</button></nav></div></dialog>`,n.querySelectorAll("button").forEach(e=>e.addEventListener("click",c)),(a=n.querySelector("dialog")).addEventListener("close",i);let r=n.querySelector(".more");r&&r.addEventListener("click",r.remove),e.body.appendChild(n)}(),t.bmInvalidateConsent=()=>{m(!1),localStorage.removeItem(l.storageKey),d(!0),p("invalidateConsent",b())},t.bmUpdateConsent=()=>{r(),p("updateConsent",b())}})(document,window);